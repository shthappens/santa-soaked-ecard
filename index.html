<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" >
    <title>Open Ecard Generator - Design your own electronic greeting card!</title>
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
    <link rel="manifest" href="site.webmanifest">
    <link rel="mask-icon" href="safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
    <link rel="stylesheet" type="text/css" href="css/picnic.min.css"/>
    <link rel="stylesheet" type="text/css" href="css/card.css"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="js/create.js" type="text/javascript"></script>
    <script src="js/jscolor.min.js" type="text/javascript"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato&display=swap" rel="stylesheet"> 
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  </head>

  <body onload="load_ready()">

    <!-- <h1><img src="logo.svg" width="40"> CREATE YOUR OWN SANTA SOAKED GIFT ECARD</h1> -->
    <h1>CREATE YOUR OWN SANTA SOAKED GIFTCARD</h1>
    <h2>Includes a link to <i>2023 Santa Soaked</i> eBook gift edition!</h2>
    <div id="create">
      <h2>HOW TO DESIGN & SEND YOUR CARD</h2>
      <div id="instructions">
        <ol>
          <li>Write your message.</li>
          <li>Add your name, and who this is for.</li>
          <li>Pick your card. Select from one of four.</li>
          <li>Copy the sharable link and send however you like - texting, social media, etc.</li>
        </ol>
      </div>
      <textarea id="message" rows=7 cols=20 placeholder="Write your message here." onchange="show_preview()" onkeyup="show_preview()"></textarea><br>

      <input type="text" id="recipient" size="25" placeholder="To" onchange="show_preview()" onkeyup="show_preview()"><br>
      <input type="text" id="sender" size="25" placeholder="From" onchange="show_preview()" onkeyup="show_preview()">
      <input type="text" id="image_url" size="25" placeholder="Image url" onchange="show_preview()" onkeyup="show_preview()"><br>
      <div id="select_ic">&nbsp;</div>

      <button
          class="jscolor {valueElement:'chosen_value',value:'FFF',onFineChange:'setTextColor(this)'}"
          style="border:1px solid black;margin-right:5px;display: none">
          Pick card background color
      </button>
      <span id="chosen_value" style="display: none">&nbsp;</span>
      <script>
        function setTextColor(picker) {
          document.getElementById('card_container').style.backgroundColor = '#' + picker.toString();
          show_preview();
        }
      </script>

      <div id="select_bg" style="display: none">&nbsp;</div>
    </div>

    <!-- <button type="button" class="button preview" onclick="toggle_preview()">Toggle preview</button>  -->
    <!-- <label for="modal_1" class="button success">Import</label>  -->
    <label for="modal_2" class="button warning">What's Santa Soaked?</label>

    <div class="modal">
      <input id="modal_1" type="checkbox">
      <label for="modal_1" class="overlay"></label>
      <article>
        <header>
          <h3>Import</h3>
          <label for="modal_1" class="close">×</label>
        </header>
        <section class="content">
          <p>Have a card URL or code from another Open Ecard Generator instance? You can import it and view it here! Just paste the original URL in the box below and press the button to view your card.</p>

          <input type="text" id="import_url" size="25" placeholder="URL or code"><br><button onclick="import_card()">View card!</button>
        </section>
      </article>
    </div>

    <div class="modal">
      <input id="modal_2" type="checkbox">
      <label for="modal_2" class="overlay"></label>
      <article>
        <header>
          <h3>What's Santa Soaked?</h3>
          <label for="modal_2" class="close">×</label>
        </header>
        <section class="content">
          <p>Santa Soaked is a much-needed climate update to the traditional tale. As his Arctic home melts, Santa seeks the reason why and finds a new mission. </p>

          <p>Help Santa make the greatest gift of all - a better future for our children. Send this card to your friends! Find out more by visiting <a href="https://santasoaked.net">SantaSoaked.net</a>.</p>
          <!-- <p>The default ("create") page provides a simple interface to design your electronic greeting card. The message text, card image, background colour and pattern, and sender and receiver names can all be customized. Your card will appear in an automatically-updating preview at the bottom of the screen as you begin to edit it. Press the "Toggle preview" button to turn off the preview feature.</p>

          <p>While you are designing your card, a link will appear to the final card. You can share this link (which goes to the "receive" page) with anyone you would like to send the card to.</p>

          <p>All of your customizations are encoded in the url, so the card contents will not expire or change as long as the site is up (and even if the site goes down, you can still retrieve your card by downloading the generator and importing the link.)</p>

          <p>The card generation and retrieval process is done entirely locally, so none of the card contents is ever stored anywhere on any server.</p> -->
        </section>
      </article>
    </div>

    <div id="card_url">
      &nbsp;
    </div>

    <button id="shortenButton">Shorten URL</button>
    <script>
      document.getElementById('shortenButton').addEventListener('click', shortenUrl);
    </script>

  <div id="shortened_url"></div>

    <br>
    <div id="preview_container">
      <h2>Preview card</h2>
      <div id="card_container">
        <div id="preview">
          <center>
            <img id="card_image"/><br>
            <p id="message_preview">&nbsp;</p>
          </center>
        </div>
      </div>
    </div>
    <footer>
      <!-- Source <a href="https://github.com/dohliam/ecards">available on GitHub</a>. -->
      <a href="https://santasoaked.net/">Back to SantaSoaked.net</a>
    </footer>
  </body>
</html>
